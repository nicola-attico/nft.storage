<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_openapi_operation">
    <sys_openapi_operation action="INSERT_OR_UPDATE">
        <complex_object_ids>18774a2297a74910e47578971153af6e,9c77862297a74910e47578971153af38,5077862297a74910e47578971153af37,dc774a2297a74910e47578971153af5d,5077862297a74910e47578971153af33,18774a2297a74910e47578971153af58,90774a2297a74910e47578971153af5c,1477862297a74910e47578971153af35,54774a2297a74910e47578971153af5a,d8774a2297a74910e47578971153af56</complex_object_ids>
        <deprecated>false</deprecated>
        <http_method>post</http_method>
        <name>Store a file</name>
        <openapi display_value="NFT Storage API - 1.0">0c77862297a74910e47578971153af30</openapi>
        <path>/upload</path>
        <serialized_operation>{"fName":"Store a file","fOperationId":"upload","fDescription":"Store a file with nft.storage.\nYou can upload either a single file or multiple files in a directory.\nEach request to /upload is restricted to a body size of 100MB, though this does not mean you cannot upload larger files (see \"Size limitations\" below).\n\n### Single file\nSend the POST request with `Blob`/`File` data as the request body.\n\n### Multiple files\nSend the POST request as `FormData` with the header `Content-Type: multipart/form-data` set. Each part should have a `Content-Disposition` header to specify \"name\" (which must be \"file\") and \"filename\". e.g.\n\n```\n------WebKitFormBoundary5peilISl2YOOweQy\nContent-Disposition: form-data; name\u003d\"file\"; filename\u003d\"image.png\"\nContent-Type: image/png\n\n\u003cdata\u003e\n------WebKitFormBoundary5peilISl2YOOweQy--\n```\n\n### Content Addressed Archive (CAR) files\nYou can also upload a CAR file, by setting the request body as a single CAR Blob/File object and providing the request header `Content-Type: application/car`\nProviding a CAR file allows you to pre-compute the root CID for 1 or more files, ensures that NFT.Storage will store and provide your assets with the same CID.\n\n### Size limitations\nEach request to the upload endpoint is limited to a total request body size of 100MB.\nHowever, you can upload files larger than 100MB by packing them into a CAR file and splitting the CAR\ninto chunks of less than 100MB. This strategy is used by the JavaScript client library to support uploads of large files.\n\nThe simplest method of splitting CAR files is with the [carbites cli tool](https://github.com/nftstorage/carbites):\n\n```\nnpm i -g carbites-cli\n\n# Split a big CAR into many smaller CARs\ncarbites split big.car --size 100MB --strategy treewalk\n```\n\nNote that you MUST use the `treewalk` strategy, so that all the chunked CARs have the same root CID.\nOnce all the CAR chunks have been uploaded, the CARs will be combined, made available via IPFS,\nand queued for storage on Filecoin.\n\nFor more about working with CARs, see https://docs.web3.storage/how-tos/work-with-car-files\n\n### Rate limits\n\nThis API imposes rate limits to ensure quality of service. You may receive a 429 \"Too many requests\" error if you make more than 30 requests with the same API token within a ten second window. Upon receiving a response with a 429 status, clients should retry the failed request after a small delay. To avoid 429 responses, you may wish to implement client-side request throttling to stay within the limits (note: the JS client automatically does this).\n","fPath":"/upload","fHttpMethod":"POST","fDeprecated":false,"fRequest":{"fRequired":true,"fContents":[{"fMediaType":"image/*","fSchema":{"fName":"requestimage5372004937","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fType":"string","fProperties":[],"fOneOf":[],"fFormat":"binary","fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"file_attachment"}},{"fMediaType":"application/car","fSchema":{"fName":"requestapplicationcar5144587253","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fType":"string","fProperties":[],"fOneOf":[],"fFormat":"binary","fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"file_attachment"}},{"fMediaType":"multipart/form-data","fSchema":{"fName":"requestmultipartformdata8685912299","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fType":"object","fProperties":[{"fName":"file","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fType":"array","fProperties":[{"fName":"requestmultipartformdata8685912299","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fType":"string","fProperties":[],"fOneOf":[],"fFormat":"binary","fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"file_attachment"}],"fOneOf":[],"fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"object"}],"fOneOf":[],"fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"object"}},{"fMediaType":"*/*","fSchema":{"fName":"request8436209371","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fType":"string","fProperties":[],"fOneOf":[],"fFormat":"binary","fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"file_attachment"}}]},"fResponses":[{"fStatusCode":"200","fDescription":"OK","fContents":[{"fMediaType":"application/json","fSchema":{"fName":"responseapplicationjson6983061521","fReferencedName":"#/components/schemas/UploadResponse","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fProperties":[],"fOneOf":[],"fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"object"}}],"fHeaders":[]},{"fStatusCode":"400","fDescription":"Bad Request","fContents":[{"fMediaType":"application/json","fSchema":{"fName":"responseapplicationjson0771786743","fReferencedName":"#/components/schemas/ErrorResponse","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fProperties":[],"fOneOf":[],"fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"object"}}],"fHeaders":[]},{"fStatusCode":"401","fDescription":"Unauthorized","fContents":[{"fMediaType":"application/json","fSchema":{"fName":"responseapplicationjson3027228666","fReferencedName":"#/components/schemas/UnauthorizedErrorResponse","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fProperties":[],"fOneOf":[],"fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"object"}}],"fHeaders":[]},{"fStatusCode":"403","fDescription":"Forbidden","fContents":[{"fMediaType":"application/json","fSchema":{"fName":"responseapplicationjson2005401254","fReferencedName":"#/components/schemas/ForbiddenErrorResponse","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fProperties":[],"fOneOf":[],"fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"object"}}],"fHeaders":[]},{"fStatusCode":"500","fDescription":"Internal Server Error","fContents":[{"fMediaType":"application/json","fSchema":{"fName":"responseapplicationjson6007247386","fReferencedName":"#/components/schemas/ErrorResponse","fExclusiveMaximum":false,"fExclusiveMinimum":false,"fUniqueItems":false,"fRequired":[],"fEnum":[],"fProperties":[],"fOneOf":[],"fNullable":false,"fReadOnly":false,"fWriteOnly":false,"fDeprecated":false,"fGlideType":"object"}}],"fHeaders":[]}],"fParameters":[]}</serialized_operation>
        <sys_class_name>sys_openapi_operation</sys_class_name>
        <sys_created_by>eugene</sys_created_by>
        <sys_created_on>2022-05-21 23:39:23</sys_created_on>
        <sys_id>14774a2297a74910e47578971153af70</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Store a file</sys_name>
        <sys_package display_value="nft.storage" source="x_snc_nft_storage">86a5ceae97674910e47578971153af49</sys_package>
        <sys_policy/>
        <sys_scope display_value="nft.storage">86a5ceae97674910e47578971153af49</sys_scope>
        <sys_update_name>sys_openapi_operation_14774a2297a74910e47578971153af70</sys_update_name>
        <sys_updated_by>eugene</sys_updated_by>
        <sys_updated_on>2022-05-21 23:39:23</sys_updated_on>
    </sys_openapi_operation>
</record_update>
